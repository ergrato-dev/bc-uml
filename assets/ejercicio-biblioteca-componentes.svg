<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 900">
  <defs>
    <style>
      .bg { fill: #1a1a1a; }
      .component { fill: #2a2a2a; stroke: #0ea5e9; stroke-width: 2; }
      .interface { fill: none; stroke: #4ade80; stroke-width: 2; }
      .dependency { stroke: #fbbf24; stroke-width: 2; fill: none; stroke-dasharray: 8,4; }
      .realization { stroke: #a78bfa; stroke-width: 2; fill: none; stroke-dasharray: 8,4; }
      .text { fill: #e5e5e5; font-family: Arial, Helvetica, sans-serif; font-size: 14px; }
      .text-small { fill: #e5e5e5; font-family: Arial, Helvetica, sans-serif; font-size: 12px; }
      .text-title { fill: #0ea5e9; font-family: Arial, Helvetica, sans-serif; font-size: 18px; font-weight: bold; }
      .text-stereotype { fill: #4ade80; font-family: Arial, Helvetica, sans-serif; font-size: 11px; }
    </style>
  </defs>
  
  <!-- Fondo -->
  <rect class="bg" width="1200" height="900"/>
  
  <!-- Título -->
  <text x="600" y="30" class="text-title" text-anchor="middle">Solución Ejercicio Integrador - Diagrama de Componentes: Sistema de Biblioteca</text>
  <text x="600" y="55" class="text-small" text-anchor="middle" fill="#4ade80">Arquitectura de 3 capas con interfaces bien definidas</text>
  
  <!-- Capa de Presentación -->
  <rect fill="none" stroke="#f87171" stroke-width="3" stroke-dasharray="10,5" x="50" y="90" width="1100" height="200"/>
  <text x="60" y="115" class="text-title" fill="#f87171">Capa de Presentación</text>
  
  <!-- Componente InterfazWeb -->
  <rect class="component" x="100" y="140" width="200" height="120"/>
  <rect fill="#0ea5e9" x="180" y="130" width="40" height="30"/>
  <text x="200" y="170" class="text" text-anchor="middle">InterfazWeb</text>
  <text x="110" y="195" class="text-small">«component»</text>
  <line x1="100" y1="205" x2="300" y2="205" stroke="#0ea5e9" stroke-width="1"/>
  <text x="110" y="225" class="text-small">+ buscarLibros()</text>
  <text x="110" y="245" class="text-small">+ mostrarDisponibilidad()</text>
  
  <!-- Componente AppMovil -->
  <rect class="component" x="350" y="140" width="200" height="120"/>
  <rect fill="#0ea5e9" x="430" y="130" width="40" height="30"/>
  <text x="450" y="170" class="text" text-anchor="middle">AppMovil</text>
  <text x="360" y="195" class="text-small">«component»</text>
  <line x1="350" y1="205" x2="550" y2="205" stroke="#0ea5e9" stroke-width="1"/>
  <text x="360" y="225" class="text-small">+ consultarPrestamos()</text>
  <text x="360" y="245" class="text-small">+ renovarPrestamo()</text>
  
  <!-- Componente PanelAdmin -->
  <rect class="component" x="850" y="140" width="220" height="120"/>
  <rect fill="#0ea5e9" x="940" y="130" width="40" height="30"/>
  <text x="960" y="170" class="text" text-anchor="middle">PanelAdmin</text>
  <text x="860" y="195" class="text-small">«component»</text>
  <line x1="850" y1="205" x2="1070" y2="205" stroke="#0ea5e9" stroke-width="1"/>
  <text x="860" y="225" class="text-small">+ gestionarInventario()</text>
  <text x="860" y="245" class="text-small">+ generarReportes()</text>
  
  <!-- Capa de Lógica de Negocio -->
  <rect fill="none" stroke="#fbbf24" stroke-width="3" stroke-dasharray="10,5" x="50" y="330" width="1100" height="280"/>
  <text x="60" y="355" class="text-title" fill="#fbbf24">Capa de Lógica de Negocio</text>
  
  <!-- Interfaz IGestionCatalogo -->
  <ellipse cx="200" cy="400" rx="120" ry="30" class="interface"/>
  <text x="200" y="395" class="text-small" text-anchor="middle" fill="#4ade80">«interface»</text>
  <text x="200" y="410" class="text" text-anchor="middle">IGestionCatalogo</text>
  
  <!-- Componente GestionCatalogo -->
  <rect class="component" x="100" y="460" width="200" height="130"/>
  <rect fill="#0ea5e9" x="180" y="450" width="40" height="30"/>
  <text x="200" y="490" class="text" text-anchor="middle">GestionCatalogo</text>
  <text x="110" y="515" class="text-small">«component»</text>
  <line x1="100" y1="525" x2="300" y2="525" stroke="#0ea5e9" stroke-width="1"/>
  <text x="110" y="545" class="text-small">+ buscarLibro()</text>
  <text x="110" y="565" class="text-small">+ agregarLibro()</text>
  <text x="110" y="580" class="text-small">+ actualizarLibro()</text>
  
  <!-- Realización IGestionCatalogo -> GestionCatalogo -->
  <path class="realization" d="M 200 430 L 200 460"/>
  <polygon fill="none" stroke="#a78bfa" stroke-width="2" points="200,430 195,440 205,440"/>
  
  <!-- Interfaz IGestionPrestamos -->
  <ellipse cx="450" cy="400" rx="120" ry="30" class="interface"/>
  <text x="450" y="395" class="text-small" text-anchor="middle" fill="#4ade80">«interface»</text>
  <text x="450" y="410" class="text" text-anchor="middle">IGestionPrestamos</text>
  
  <!-- Componente GestionPrestamos -->
  <rect class="component" x="350" y="460" width="200" height="130"/>
  <rect fill="#0ea5e9" x="430" y="450" width="40" height="30"/>
  <text x="450" y="490" class="text" text-anchor="middle">GestionPrestamos</text>
  <text x="360" y="515" class="text-small">«component»</text>
  <line x1="350" y1="525" x2="550" y2="525" stroke="#0ea5e9" stroke-width="1"/>
  <text x="360" y="545" class="text-small">+ registrarPrestamo()</text>
  <text x="360" y="565" class="text-small">+ registrarDevolucion()</text>
  <text x="360" y="580" class="text-small">+ calcularMulta()</text>
  
  <!-- Realización IGestionPrestamos -> GestionPrestamos -->
  <path class="realization" d="M 450 430 L 450 460"/>
  <polygon fill="none" stroke="#a78bfa" stroke-width="2" points="450,430 445,440 455,440"/>
  
  <!-- Componente GestionUsuarios -->
  <rect class="component" x="600" y="460" width="200" height="130"/>
  <rect fill="#0ea5e9" x="680" y="450" width="40" height="30"/>
  <text x="700" y="490" class="text" text-anchor="middle">GestionUsuarios</text>
  <text x="610" y="515" class="text-small">«component»</text>
  <line x1="600" y1="525" x2="800" y2="525" stroke="#0ea5e9" stroke-width="1"/>
  <text x="610" y="545" class="text-small">+ registrarMiembro()</text>
  <text x="610" y="565" class="text-small">+ validarCredenciales()</text>
  <text x="610" y="580" class="text-small">+ actualizarPerfil()</text>
  
  <!-- Componente NotificacionService -->
  <rect class="component" x="850" y="460" width="220" height="130"/>
  <rect fill="#0ea5e9" x="940" y="450" width="40" height="30"/>
  <text x="960" y="490" class="text" text-anchor="middle">NotificacionService</text>
  <text x="860" y="515" class="text-small">«component»</text>
  <line x1="850" y1="525" x2="1070" y2="525" stroke="#0ea5e9" stroke-width="1"/>
  <text x="860" y="545" class="text-small">+ enviarEmail()</text>
  <text x="860" y="565" class="text-small">+ enviarSMS()</text>
  <text x="860" y="580" class="text-small">+ notificarVencimiento()</text>
  
  <!-- Dependencias de presentación a lógica -->
  <path class="dependency" d="M 200 260 L 200 390"/>
  <polygon fill="#fbbf24" points="200,390 195,380 205,380"/>
  
  <path class="dependency" d="M 450 260 L 450 390"/>
  <polygon fill="#fbbf24" points="450,390 445,380 455,380"/>
  
  <path class="dependency" d="M 960 260 L 960 370 L 700 370 L 700 460"/>
  <polygon fill="#fbbf24" points="700,460 695,450 705,450"/>
  
  <!-- Capa de Datos -->
  <rect fill="none" stroke="#4ade80" stroke-width="3" stroke-dasharray="10,5" x="50" y="650" width="1100" height="200"/>
  <text x="60" y="675" class="text-title" fill="#4ade80">Capa de Datos</text>
  
  <!-- Interfaz IRepositorio -->
  <ellipse cx="300" cy="720" rx="100" ry="25" class="interface"/>
  <text x="300" y="715" class="text-small" text-anchor="middle" fill="#4ade80">«interface»</text>
  <text x="300" y="730" class="text" text-anchor="middle">IRepositorio</text>
  
  <!-- Componente BaseDatos -->
  <rect class="component" x="100" y="770" width="180" height="60"/>
  <rect fill="#0ea5e9" x="170" y="760" width="40" height="30"/>
  <text x="190" y="800" class="text" text-anchor="middle">PostgreSQL</text>
  <text x="110" y="820" class="text-small">«database»</text>
  
  <!-- Componente CacheRedis -->
  <rect class="component" x="320" y="770" width="160" height="60"/>
  <rect fill="#0ea5e9" x="380" y="760" width="40" height="30"/>
  <text x="400" y="800" class="text" text-anchor="middle">Redis Cache</text>
  <text x="330" y="820" class="text-small">«cache»</text>
  
  <!-- Componente AlmacenamientoArchivos -->
  <rect class="component" x="520" y="770" width="220" height="60"/>
  <rect fill="#0ea5e9" x="610" y="760" width="40" height="30"/>
  <text x="630" y="800" class="text" text-anchor="middle">AlmacenamientoArchivos</text>
  <text x="530" y="820" class="text-small">«file storage»</text>
  
  <!-- Componente LogService -->
  <rect class="component" x="780" y="770" width="180" height="60"/>
  <rect fill="#0ea5e9" x="850" y="760" width="40" height="30"/>
  <text x="870" y="800" class="text" text-anchor="middle">LogService</text>
  <text x="790" y="820" class="text-small">«logging»</text>
  
  <!-- Realización IRepositorio -->
  <path class="realization" d="M 250 745 L 220 770"/>
  <polygon fill="none" stroke="#a78bfa" stroke-width="2" points="220,770 227,762 217,760"/>
  
  <path class="realization" d="M 350 745 L 380 770"/>
  <polygon fill="none" stroke="#a78bfa" stroke-width="2" points="380,770 373,762 383,760"/>
  
  <!-- Dependencias de lógica a datos -->
  <path class="dependency" d="M 200 590 L 200 620 L 250 620 L 250 695"/>
  <polygon fill="#fbbf24" points="250,695 245,685 255,685"/>
  
  <path class="dependency" d="M 450 590 L 450 620 L 350 620 L 350 695"/>
  <polygon fill="#fbbf24" points="350,695 345,685 355,685"/>
  
  <path class="dependency" d="M 700 590 L 700 620 L 300 620 L 300 695"/>
  <polygon fill="#fbbf24" points="300,695 295,685 305,685"/>
  
  <!-- Dependencia NotificacionService a LogService -->
  <path class="dependency" d="M 960 590 L 960 620 L 870 620 L 870 770"/>
  <polygon fill="#fbbf24" points="870,770 865,760 875,760"/>
  
  <!-- Leyenda -->
  <rect class="component" x="1000" y="660" width="180" height="180"/>
  <text x="1090" y="685" class="text-title" text-anchor="middle" font-size="14px">Leyenda</text>
  <line x1="1000" y1="695" x2="1180" y2="695" stroke="#0ea5e9" stroke-width="1"/>
  
  <rect fill="#0ea5e9" x="1010" y="705" width="30" height="20"/>
  <text x="1050" y="720" class="text-small">Componente</text>
  
  <ellipse cx="1045" cy="745" rx="35" ry="12" class="interface"/>
  <text x="1090" y="750" class="text-small">Interfaz</text>
  
  <line x1="1010" y1="770" x2="1080" y2="770" class="dependency"/>
  <polygon fill="#fbbf24" points="1080,770 1070,765 1070,775"/>
  <text x="1090" y="775" class="text-small">Dependencia</text>
  
  <line x1="1010" y1="795" x2="1080" y2="795" class="realization"/>
  <polygon fill="none" stroke="#a78bfa" stroke-width="2" points="1080,795 1070,790 1070,800"/>
  <text x="1090" y="800" class="text-small">Realización</text>
  
  <text x="1010" y="830" class="text-small" font-size="10px">Separación en capas</text>
  <text x="1010" y="845" class="text-small" font-size="10px">facilita mantenimiento</text>
</svg>